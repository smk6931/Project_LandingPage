=== 오라클 클라우드 DB 접속 가이드 (로컬 vs 서버) ===

작성일: 2026-01-21
내용: 보안을 위해 로컬 개발 시에는 SSH 터널링을 사용하고, 서버 내부에서는 Direct 접속을 사용하는 구조 정리

1. 접속 구조 차이점

   [A. 서버 내부 (운영 환경)]
   - 백엔드(FastAPI)와 DB가 같은 서버 안에 있음.
   - 접속 주소: localhost (127.0.0.1)
   - 포트: 5433
   - 터널링: 필요 없음 (직통 연결)

   [B. 로컬 PC (개발 환경)]
   - 내 PC에서 서버 DB에 접속해야 함.
   - 서버 DB 포트(5433)는 보안상 외부에서 닫혀 있음.
   - 해결책: SSH 터널링을 통해 우회 접속.

2. 로컬 개발 시 필수 준비물 (SSH 터널링)

   백엔드 개발을 시작하기 전에 반드시 아래 명령어를 터미널에 켜둬야 함.
   (이 창이 켜져 있는 동안에만 DB 접속 가능)

   --------------------------------------------------------------------------------
   ssh -i "C:\Users\ssh\ssh-key-oracle.key" -L 5433:127.0.0.1:5433 ubuntu@168.107.52.201 -N
   --------------------------------------------------------------------------------

3. 환경변수 설정 (.env)
   
   DB_HOST=localhost
   DB_PORT=5433
   DB_USER=landing_user
   DB_PASSWORD=1234
   DB_NAME=landing_db

   * 중요: 로컬에서도 터널링 덕분에 'localhost'라고 쓰면 마치 내 컴퓨터에 DB가 있는 것처럼 접속됨.
